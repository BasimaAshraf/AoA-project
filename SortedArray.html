<!DOCTYPE html>
<html lang="en">

<head>
    <title>Sorted Array</title>
    <link rel="stylesheet" type="text/css" href="sorted.css">
</head>

<body>
    <h1>
            <b>Prioritize List </b>
    </h1>
    <div id="tbl"> 
    <table id="result">
        <tr>
            <th>Name of item </th>
            <th> Priority </th>
            <th> No of item </th>
        </tr>
    </table>
</div>
    <script>
        class node {
            constructor(i, p, n) {
                this.item = i;
                this.priority = p;
                this.amount = n;
            }
        }

        function partition(Arr, low, high) {

            var k = Arr[high].priority;
            var i = low - 1;
            for (j = low; j < high; j++) {
                if (Arr[j].priority <= k) {
                    i++;
                    //swapping
                    tmp = Arr[i];
                    Arr[i] = Arr[j];
                    Arr[j] = tmp;
                }
            }
            //swapping
            tmp = Arr[i + 1];
            Arr[i + 1] = Arr[high];
            Arr[high] = tmp;

            return i + 1;
        }

        function quicksort(Arr, low, high) {
            if (low < high) {
                debugger;
                index = partition(Arr, low, high);
                quicksort(Arr, low, index - 1);
                quicksort(Arr, index + 1, high);
            }
        }

        var Arr = [];
        Arr = JSON.parse(window.localStorage.getItem("Arr")); // Retrieving
        var j = 0;

        quicksort(Arr, 0, Arr.length - 1);
        var row = 1;
        for (var b = 0; b < Arr.length; b++) {
            var display = document.getElementById("result");
            var newrow = display.insertRow(row);
            var cell1 = newrow.insertCell(0);
            var cell2 = newrow.insertCell(1);
            var cell3 = newrow.insertCell(2);
            cell1.innerHTML = Arr[b].item;
            cell2.innerHTML = Arr[b].priority;
            cell3.innerHTML = Arr[b].amount;
            row++;
        }
    </script>
</body>

</html>